<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leave Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #4f46e5 0%, #805ad5 100%);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="auth-container" class="min-h-screen flex items-center justify-center px-4 py-12">
        <div class="w-full max-w-md">
            <div class="text-center mb-8">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/2c336fa6-edc8-45dd-8aab-10efa5781bb5.png" alt="Company logo with modern abstract design in blue and purple colors" class="mx-auto h-24 w-24 rounded-full object-cover" />
                <h2 class="mt-6 text-3xl font-extrabold text-gray-900">
                    Leave Management System
                </h2>
            </div>
            
            <div id="login-form" class="bg-white py-8 px-6 shadow rounded-lg">
                <h3 class="text-center text-2xl font-bold text-gray-800 mb-6">Login to your account</h3>
                <form class="space-y-6">
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Email address</label>
                        <div class="mt-1">
                            <input id="email" name="email" type="email" autocomplete="email" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </div>
                    
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700">
                            Password
                        </label>
                        <div class="mt-1">
                            <input id="password" name="password" type="password" autocomplete="current-password" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                            <label for="remember-me" class="ml-2 block text-sm text-gray-700">
                                Remember me
                            </label>
                        </div>
                        
                        <div class="text-sm">
                            <a href="#" class="font-medium text-indigo-600 hover:text-indigo-500" onclick="showResetPassword()">
                                Forgot your password?
                            </a>
                        </div>
                    </div>
                    
                    <div>
                        <button type="button" onclick="login()" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Sign in
                        </button>
                    </div>
                </form>
                
                <div class="mt-6">
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">
                                Or
                            </span>
                        </div>
                    </div>
                    
                    <div class="mt-4 text-center">
                        <button onclick="toggleForms()" class="bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Create new account
                        </button>
                    </div>
                </div>
            </div>
            
            <div id="signup-form" class="bg-white py-8 px-6 shadow rounded-lg hidden">
                <h3 class="text-center text-2xl font-bold text-gray-800 mb-6">Create new account</h3>
                <form class="space-y-6">
                    <div>
                        <label for="signup-name" class="block text-sm font-medium text-gray-700">Full name</label>
                        <div class="mt-1">
                            <input id="signup-name" name="name" type="text" autocomplete="name" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </div>
                    
                    <div>
                        <label for="signup-email" class="block text-sm font-medium text-gray-700">Email address</label>
                        <div class="mt-1">
                            <input id="signup-email" name="email" type="email" autocomplete="email" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </div>
                    
                    <div>
                        <label for="signup-password" class="block text-sm font-medium text-gray-700">
                            Password
                        </label>
                        <div class="mt-1">
                            <input id="signup-password" name="password" type="password" autocomplete="new-password" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </div>
                    
                    <div>
                        <label for="signup-confirm-password" class="block text-sm font-medium text-gray-700">
                            Confirm Password
                        </label>
                        <div class="mt-1">
                            <input id="signup-confirm-password" name="confirm-password" type="password" autocomplete="new-password" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </div>
                    
                    <div>
                        <button type="button" onclick="signup()" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Register
                        </button>
                    </div>
                </form>
                
                <div class="mt-6 text-center">
                    <button onclick="toggleForms()" class="font-medium text-indigo-600 hover:text-indigo-500">
                        Already have an account? Sign in
                    </button>
                </div>
            </div>
            
            <div id="reset-password-form" class="bg-white py-8 px-6 shadow rounded-lg hidden">
                <h3 class="text-center text-2xl font-bold text-gray-800 mb-6">Reset Password</h3>
                <form class="space-y-6">
                    <div>
                        <label for="reset-email" class="block text-sm font-medium text-gray-700">Email address</label>
                        <div class="mt-1">
                            <input id="reset-email" name="email" type="email" autocomplete="email" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                    </div>
                    
                    <div>
                        <button type="button" onclick="resetPassword()" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Send Reset Link
                        </button>
                    </div>
                </form>
                
                <div class="mt-6 text-center">
                    <button onclick="showLogin()" class="font-medium text-indigo-600 hover:text-indigo-500">
                        Back to login
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="dashboard-container" class="min-h-screen hidden">
        <div class="gradient-bg pb-32">
            <header class="py-10">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex justify-between items-center">
                        <h1 class="text-3xl font-bold text-white">
                            Leave Dashboard
                        </h1>
                        <div class="flex items-center space-x-4">
                            <span class="text-white text-sm font-medium" id="user-name"></span>
                            <button onclick="logout()" class="text-white hover:text-gray-200">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </header>
        </div>
        
        <main class="-mt-32">
            <div class="max-w-7xl mx-auto px-4 pb-12 sm:px-6 lg:px-8">
                <div id="employee-dashboard" class="hidden">
                    <div class="grid grid-cols-1 gap-5 sm:grid-cols-3 mb-8">
                        <div class="bg-white overflow-hidden shadow rounded-lg card-hover">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-indigo-500 rounded-md p-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dt class="text-sm font-medium text-gray-500 truncate">
                                            Vacation Leave
                                        </dt>
                                        <dd class="flex items-baseline">
                                            <div class="text-2xl font-semibold text-gray-900" id="annual-leaves">
                                                20
                                            </div>
                                            <div class="ml-2 text-sm font-semibold text-green-600">
                                                <span id="annual-used">
                                                    +3 used
                                                </span>
                                            </div>
                                        </dd>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white overflow-hidden shadow rounded-lg card-hover">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-purple-500 rounded-md p-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016zM12 9v2m0 4h.01" />
                                        </svg>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dt class="text-sm font-medium text-gray-500 truncate">
                                            Sick Leave
                                        </dt>
                                        <dd class="flex items-baseline">
                                            <div class="text-2xl font-semibold text-gray-900" id="sick-leaves">
                                                10
                                            </div>
                                            <div class="ml-2 text-sm font-semibold text-green-600">
                                                <span id="sick-used">
                                                    +1 used
                                                </span>
                                            </div>
                                        </dd>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white overflow-hidden shadow rounded-lg card-hover">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-pink-500 rounded-md p-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dt class="text-sm font-medium text-gray-500 truncate">
                                            Local Credits
                                        </dt>
                                        <dd class="flex items-baseline">
                                            <div class="text-2xl font-semibold text-gray-900" id="casual-leaves">
                                                5
                                            </div>
                                            <div class="ml-2 text-sm font-semibold text-green-600">
                                                <span id="casual-used">
                                                    +2 used
                                                </span>
                                            </div>
                                        </dd>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white shadow overflow-hidden sm:rounded-lg mb-8">
                        <div class="px-4 py-5 sm:px-6 border-b border-gray-200">
                            <h3 class="text-lg leading-6 font-medium text-gray-900">
                                Recent Leave Requests
                            </h3>
                            <p class="mt-1 text-sm text-gray-500">
                                Your recent leave applications and their status.
                            </p>
                        </div>
                        <div class="bg-white overflow-y-auto max-h-96">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Type
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Dates
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Days
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Status
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Action
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="leave-requests">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                                            Annual
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            Jan 15 - Jan 18, 2023
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            4
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                Approved
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button class="text-indigo-600 hover:text-indigo-900">View</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                                            Sick
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            Feb 1 - Feb 1, 2023
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            1
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                Approved
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button class="text-indigo-600 hover:text-indigo-900">View</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                        <div class="px-4 py-5 sm:px-6 border-b border-gray-200">
                            <h3 class="text-lg leading-6 font-medium text-gray-900">
                                Request New Leave
                            </h3>
                            <p class="mt-1 text-sm text-gray-500">
                                Submit a new leave request for approval.
                            </p>
                        </div>
                        <div class="px-4 py-5 sm:p-6">
                            <form class="space-y-6">
                                <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
                                    <div class="sm:col-span-3">
                                        <label for="leave-type" class="block text-sm font-medium text-gray-700">Leave type</label>
                                        <select id="leave-type" name="leave-type" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                            <option>Vacation Leave</option>
                                            <option>Sick Leave</option>
                                            <option>Local Credits</option>
                                            <option>Mandatory/Forced Leave</option>
                                            <option>Maternity Leave</option>
                                            <option>Paternity Leave</option>
                                            <option>Special Privilege Leave</option>
                                            <option>Solo Parent Leave</option>
                                            <option>Study Leave</option>
                                            <option>10-Day VAWC Leave</option>
                                            <option>Rehabilitation Privilege</option>
                                            <option>Special Leave Benefits for Women</option>
                                            <option>Special Emergency (Calamity) Leave</option>
                                            <option>Adoption Leave</option>
                                        </select>
                                    </div>
                                    
                                    <div class="sm:col-span-3">
                                        <label for="leave-start-date" class="block text-sm font-medium text-gray-700">Start date</label>
                                        <input type="date" id="leave-start-date" name="leave-start-date" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    </div>
                                    
                                    <div class="sm:col-span-3">
                                        <label for="leave-end-date" class="block text-sm font-medium text-gray-700">End date</label>
                                        <input type="date" id="leave-end-date" name="leave-end-date" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    </div>
                                    
                                    <div class="sm:col-span-3">
                                        <label for="leave-reason" class="block text-sm font-medium text-gray-700">Reason</label>
                                        <input type="text" id="leave-reason" name="leave-reason" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    </div>
                                    
                                    <div class="sm:col-span-6">
                                        <label for="leave-details" class="block text-sm font-medium text-gray-700">Additional details</label>
                                        <textarea id="leave-details" name="leave-details" rows="3" class="shadow-sm mt-1 block w-full sm:text-sm border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                                    </div>
                                </div>
                                
                                <div class="flex justify-end">
                                    <button type="button" onclick="requestLeave()" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                        Submit Request
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <div id="admin-dashboard" class="hidden">
                    <div class="flex justify-between items-center mb-8">
                        <h2 class="text-2xl font-bold text-gray-900">
                            Employee Leave Management
                        </h2>
                        <button onclick="showAddEmployeeModal()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Add New Employee
                        </button>
                    </div>
                    
                    <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                        <div class="px-4 py-5 sm:px-6 border-b border-gray-200">
                            <h3 class="text-lg leading-6 font-medium text-gray-900">
                                Employee Leave Balances
                            </h3>
                            <p class="mt-1 text-sm text-gray-500">
                                Manage leave allocations for all employees.
                            </p>
                        </div>
                        <div class="bg-white overflow-y-auto max-h-96">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Employee
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Annual
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Sick
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Casual
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Actions
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="employee-table">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="flex-shrink-0 h-10 w-10">
                                                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/28a36443-2e3a-4125-a7d0-37f9eb3ba9b4.png" alt="Professional headshot of John Doe" class="h-10 w-10 rounded-full">
                                                </div>
                                                <div class="ml-4">
                                                    <div class="text-sm font-medium text-gray-900">John Doe</div>
                                                    <div class="text-sm text-gray-500">john@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-gray-900">20</div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-gray-900">10</div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-gray-900">5</div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button onclick="showEditModal('John Doe', 20, 10, 5)" class="text-indigo-600 hover:text-indigo-900 mr-3">Edit</button>
                                            <button class="text-red-600 hover:text-red-900">Delete</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="flex-shrink-0 h-10 w-10">
                                                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4555a23e-ed5e-4a67-b228-2b06dc67f058.png" alt="Professional headshot of Jane Smith" class="h-10 w-10 rounded-full">
                                                </div>
                                                <div class="ml-4">
                                                    <div class="text-sm font-medium text-gray-900">Jane Smith</div>
                                                    <div class="text-sm text-gray-500">jane@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-gray-900">20</div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-gray-900">10</div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-gray-900">5</div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button onclick="showEditModal('Jane Smith', 20, 10, 5)" class="text-indigo-600 hover:text-indigo-900 mr-3">Edit</button>
                                            <button class="text-red-600 hover:text-red-900">Delete</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="mt-8 bg-white shadow overflow-hidden sm:rounded-lg">
                        <div class="px-4 py-5 sm:px-6 border-b border-gray-200">
                            <h3 class="text-lg leading-6 font-medium text-gray-900">
                                Pending Leave Approvals
                            </h3>
                            <p class="mt-1 text-sm text-gray-500">
                                Review and approve pending leave requests.
                            </p>
                        </div>
                        <div class="bg-white overflow-y-auto max-h-96">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Employee
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Type
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Dates
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Days
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Reason
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Actions
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="pending-requests">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="flex-shrink-0 h-10 w-10">
                                                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/e543762b-f018-4efb-80f8-5e2becf2c145.png" alt="Professional headshot of Michael Johnson" class="h-10 w-10 rounded-full">
                                                </div>
                                                <div class="ml-4">
                                                    <div class="text-sm font-medium text-gray-900">Michael Johnson</div>
                                                    <div class="text-sm text-gray-500">michael@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            Annual
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            Mar 15 - Mar 18, 2023
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            4
                                        </td>
                                        <td class="px-6 py-4 text-sm text-gray-500">
                                            Family vacation
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button onclick="approveLeaveRequest()" class="text-green-600 hover:text-green-900 mr-3">Approve</button>
                                            <button onclick="rejectLeaveRequest()" class="text-red-600 hover:text-red-900">Reject</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Edit Employee Modal -->
    <div id="edit-employee-modal" class="fixed z-10 inset-0 overflow-y-auto hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>
            
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            
            <div class="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6">
                <div class="hidden sm:block absolute top-0 right-0 pt-4 pr-4">
                    <button type="button" onclick="hideModal('edit-employee-modal')" class="bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        <span class="sr-only">Close</span>
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="sm:flex sm:items-start">
                    <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                        </svg>
                    </div>
                    <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                        <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">
                            Edit Employee Leave Balance
                        </h3>
                        <div class="mt-2">
                            <p class="text-sm text-gray-500">
                                Adjust the number of leaves available for this employee.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="mt-5 sm:mt-4 sm:flex sm:flex-row">
                    <form class="w-full space-y-6">
                        <div id="edit-employee-name" class="text-lg font-medium text-gray-900">
                            John Doe
                        </div>
                        
                        <div>
                            <label for="edit-annual-leaves" class="block text-sm font-medium text-gray-700">Annual Leaves</label>
                            <input type="number" id="edit-annual-leaves" name="edit-annual-leaves" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        
                        <div>
                            <label for="edit-sick-leaves" class="block text-sm font-medium text-gray-700">Sick Leaves</label>
                            <input type="number" id="edit-sick-leaves" name="edit-sick-leaves" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        
                        <div>
                            <label for="edit-casual-leaves" class="block text-sm font-medium text-gray-700">Casual Leaves</label>
                            <input type="number" id="edit-casual-leaves" name="edit-casual-leaves" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        
                        <div class="flex justify-end space-x-3">
                            <button type="button" onclick="hideModal('edit-employee-modal')" class="inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Cancel
                            </button>
                            <button type="button" onclick="saveEmployeeLeave()" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Save
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add Employee Modal -->
    <div id="add-employee-modal" class="fixed z-10 inset-0 overflow-y-auto hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>
            
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            
            <div class="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6">
                <div class="hidden sm:block absolute top-0 right-0 pt-4 pr-4">
                    <button type="button" onclick="hideModal('add-employee-modal')" class="bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        <span class="sr-only">Close</span>
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="sm:flex sm:items-start">
                    <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                        </svg>
                    </div>
                    <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                        <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">
                            Add New Employee
                        </h3>
                        <div class="mt-2">
                            <p class="text-sm text-gray-500">
                                Add a new employee to the leave management system.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="mt-5 sm:mt-4 sm:flex sm:flex-row">
                    <form class="w-full space-y-6">
                        <div>
                            <label for="add-employee-name" class="block text-sm font-medium text-gray-700">Full name</label>
                            <input type="text" id="add-employee-name" name="add-employee-name" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        
                        <div>
                            <label for="add-employee-email" class="block text-sm font-medium text-gray-700">Email address</label>
                            <input type="email" id="add-employee-email" name="add-employee-email" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        
                        <div>
                            <label for="add-employee-role" class="block text-sm font-medium text-gray-700">Role</label>
                            <select id="add-employee-role" name="add-employee-role" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                <option value="employee">Employee</option>
                                <option value="admin">Admin</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="add-employee-annual-leaves" class="block text-sm font-medium text-gray-700">Initial Annual Leaves</label>
                            <input type="number" id="add-employee-annual-leaves" name="add-employee-annual-leaves" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" value="20">
                        </div>
                        
                        <div>
                            <label for="add-employee-sick-leaves" class="block text-sm font-medium text-gray-700">Initial Sick Leaves</label>
                            <input type="number" id="add-employee-sick-leaves" name="add-employee-sick-leaves" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" value="10">
                        </div>
                        
                        <div>
                            <label for="add-employee-casual-leaves" class="block text-sm font-medium text-gray-700">Initial Casual Leaves</label>
                            <input type="number" id="add-employee-casual-leaves" name="add-employee-casual-leaves" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" value="5">
                        </div>
                        
                        <div class="flex justify-end space-x-3">
                            <button type="button" onclick="hideModal('add-employee-modal')" class="inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Cancel
                            </button>
                            <button type="button" onclick="addEmployee()" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Add Employee
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Mock database (in a real app, this would be server-side)
        let users = [
            {
                id: 1,
                name: "John Doe",
                email: "john@example.com",
                password: "password123",
                role: "employee",
                leaves: {
                    annual: 20,
                    annualUsed: 3,
                    sick: 10,
                    sickUsed: 1,
                    casual: 5,
                    casualUsed: 2
                }
            },
            {
                id: 2,
                name: "Jane Smith",
                email: "jane@example.com",
                password: "password123",
                role: "admin",
                leaves: {
                    annual: 20,
                    annualUsed: 1,
                    sick: 10,
                    sickUsed: 0,
                    casual: 5,
                    casualUsed: 0
                }
            }
        ];
        
        let employees = [
            {
                id: 1,
                name: "John Doe",
                email: "john@example.com",
                role: "employee",
                leaves: {
                    annual: 20,
                    sick: 10,
                    casual: 5
                }
            },
            {
                id: 2,
                name: "Jane Smith",
                email: "jane@example.com",
                role: "admin",
                leaves: {
                    annual: 20,
                    sick: 10,
                    casual: 5
                }
            },
            {
                id: 3,
                name: "Michael Johnson",
                email: "michael@example.com",
                role: "employee",
                leaves: {
                    annual: 20,
                    sick: 10,
                    casual: 5
                }
            }
        ];
        
        let leaveRequests = [
            {
                id: 1,
                employeeId: 1,
                type: "Annual",
                startDate: "2023-01-15",
                endDate: "2023-01-18",
                days: 4,
                status: "Approved",
                reason: "Vacation"
            },
            {
                id: 2,
                employeeId: 1,
                type: "Sick",
                startDate: "2023-02-01",
                endDate: "2023-02-01",
                days: 1,
                status: "Approved",
                reason: "Flu"
            },
            {
                id: 3,
                employeeId: 3,
                type: "Annual",
                startDate: "2023-03-15",
                endDate: "2023-03-18",
                days: 4,
                status: "Pending",
                reason: "Family vacation"
            }
        ];
        
        // Global variables
        let currentUser = null;
        
        // DOM elements
        const authContainer = document.getElementById('auth-container');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const resetPasswordForm = document.getElementById('reset-password-form');
        const dashboardContainer = document.getElementById('dashboard-container');
        const employeeDashboard = document.getElementById('employee-dashboard');
        const adminDashboard = document.getElementById('admin-dashboard');
        
        // Utility functions
        function showLogin() {
            loginForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
            resetPasswordForm.classList.add('hidden');
        }
        
        function showSignup() {
            loginForm.classList.add('hidden');
            signupForm.classList.remove('hidden');
            resetPasswordForm.classList.add('hidden');
        }
        
        function showResetPassword() {
            loginForm.classList.add('hidden');
            signupForm.classList.add('hidden');
            resetPasswordForm.classList.remove('hidden');
        }
        
        function toggleForms() {
            if (loginForm.classList.contains('hidden')) {
                showLogin();
            } else {
                showSignup();
            }
        }
        
        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }
        
        function showModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }
        
        // Auth functions
        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            // Find user in mock database
            const user = users.find(user => user.email === email && user.password === password);
            
            if (user) {
                currentUser = user;
                
                // Update UI
                document.getElementById('user-name').textContent = currentUser.name;
                
                // Show appropriate dashboard
                authContainer.classList.add('hidden');
                dashboardContainer.classList.remove('hidden');
                
                if (currentUser.role === 'admin') {
                    employeeDashboard.classList.add('hidden');
                    adminDashboard.classList.remove('hidden');
                    renderEmployeeTable();
                    renderPendingRequests();
                } else {
                    adminDashboard.classList.add('hidden');
                    employeeDashboard.classList.remove('hidden');
                    updateLeaveBalances();
                }
            } else {
                alert('Invalid email or password');
            }
        }
        
        function signup() {
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;
            
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            // Check if user already exists
            if (users.some(user => user.email === email)) {
                alert('User with this email already exists');
                return;
            }
            
            // Add new user (in a real app, this would be a server call)
            const newUser = {
                id: users.length + 1,
                name,
                email,
                password,
                role: 'employee',
                leaves: {
                    annual: 20,
                    annualUsed: 0,
                    sick: 10,
                    sickUsed: 0,
                    casual: 5,
                    casualUsed: 0
                }
            };
            
            users.push(newUser);
            
            // Also add to employees list
            const newEmployee = {
                id: employees.length + 1,
                name,
                email,
                role: 'employee',
                leaves: {
                    annual: 20,
                    sick: 10,
                    casual: 5
                }
            };
            
            employees.push(newEmployee);
            
            alert('Registration successful! Please login.');
            showLogin();
        }
        
        function resetPassword() {
            const email = document.getElementById('reset-email').value;
            
            if (users.some(user => user.email === email)) {
                alert('Password reset link sent to your email');
                showLogin();
            } else {
                alert('No user found with this email');
            }
        }
        
        function logout() {
            currentUser = null;
            dashboardContainer.classList.add('hidden');
            authContainer.classList.remove('hidden');
            loginForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
            resetPasswordForm.classList.add('hidden');
            
            // Clear form fields
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
            document.getElementById('signup-name').value = '';
            document.getElementById('signup-email').value = '';
            document.getElementById('signup-password').value = '';
            document.getElementById('signup-confirm-password').value = '';
            document.getElementById('reset-email').value = '';
        }
        
        // Employee functions
        function updateLeaveBalances() {
            if (!currentUser) return;
            
            document.getElementById('annual-leaves').textContent = currentUser.leaves.annual;
            document.getElementById('annual-used').textContent = `+${currentUser.leaves.annualUsed} used`;
            document.getElementById('sick-leaves').textContent = currentUser.leaves.sick;
            document.getElementById('sick-used').textContent = `+${currentUser.leaves.sickUsed} used`;
            document.getElementById('casual-leaves').textContent = currentUser.leaves.casual;
            document.getElementById('casual-used').textContent = `+${currentUser.leaves.casualUsed} used`;
        }
        
        function requestLeave() {
            if (!currentUser) return;
            
            const type = document.getElementById('leave-type').value;
            const startDate = document.getElementById('leave-start-date').value;
            const endDate = document.getElementById('leave-end-date').value;
            const reason = document.getElementById('leave-reason').value;
            const details = document.getElementById('leave-details').value;
            
            if (!startDate || !endDate) {
                alert('Please select start and end dates');
                return;
            }
            
            // Calculate days between dates (simplified)
            const start = new Date(startDate);
            const end = new Date(endDate);
            const diffTime = Math.abs(end - start);
            const days = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1; // Adding 1 to include both start and end dates
            
            // Check if employee has enough leaves
            if (type === 'Annual' && days > currentUser.leaves.annual) {
                alert('Not enough annual leaves');
                return;
            }
            
            if (type === 'Sick' && days > currentUser.leaves.sick) {
                alert('Not enough sick leaves');
                return;
            }
            
            if (type === 'Casual' && days > currentUser.leaves.casual) {
                alert('Not enough casual leaves');
                return;
            }
            
            // Create new leave request (in a real app, this would be a server call)
            const newRequest = {
                id: leaveRequests.length + 1,
                employeeId: currentUser.id,
                type,
                startDate,
                endDate,
                days,
                status: 'Pending',
                reason
            };
            
            leaveRequests.push(newRequest);
            
            alert('Leave request submitted successfully');
            
            // Reset form
            document.getElementById('leave-type').value = 'Annual';
            document.getElementById('leave-start-date').value = '';
            document.getElementById('leave-end-date').value = '';
            document.getElementById('leave-reason').value = '';
            document.getElementById('leave-details').value = '';
        }
        
        // Admin functions
        function renderEmployeeTable() {
            const employeeTable = document.getElementById('employee-table');
            employeeTable.innerHTML = '';
            
            employees.forEach(employee => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="flex-shrink-0 h-10 w-10">
                                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/1bea5235-976e-4b81-89c0-0e5599c85958.png" alt="Professional headshot of ${employee.name}" class="h-10 w-10 rounded-full">
                            </div>
                            <div class="ml-4">
                                <div class="text-sm font-medium text-gray-900">${employee.name}</div>
                                <div class="text-sm text-gray-500">${employee.email}</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${employee.leaves.annual}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${employee.leaves.sick}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${employee.leaves.casual}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="showEditModal('${employee.name}', ${employee.leaves.annual}, ${employee.leaves.sick}, ${employee.leaves.casual})" class="text-indigo-600 hover:text-indigo-900 mr-3">Edit</button>
                        <button onclick="deleteEmployee(${employee.id})" class="text-red-600 hover:text-red-900">Delete</button>
                    </td>
                `;
                
                employeeTable.appendChild(row);
            });
        }
        
        function renderPendingRequests() {
            const pendingRequestsTable = document.getElementById('pending-requests');
            pendingRequestsTable.innerHTML = '';
            
            leaveRequests.forEach(request => {
                if (request.status === 'Pending') {
                    const employee = employees.find(e => e.id === request.employeeId);
                    
                    if (employee) {
                        const row = document.createElement('tr');
                        
                        row.innerHTML = `
                            <td class="px-6 py-4 whitespace-nowrap">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 h-10 w-10">
                                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/69dc902d-c52d-4dda-832a-4cbcc1eb2a4c.png" alt="Professional headshot of ${employee.name}" class="h-10 w-10 rounded-full">
                                    </div>
                                    <div class="ml-4">
                                        <div class="text-sm font-medium text-gray-900">${employee.name}</div>
                                        <div class="text-sm text-gray-500">${employee.email}</div>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                ${request.type}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                ${formatDate(request.startDate)} - ${formatDate(request.endDate)}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                ${request.days}
                            </td>
                            <td class="px-6 py-4 text-sm text-gray-500">
                                ${request.reason}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                <button onclick="approveLeaveRequest(${request.id})" class="text-green-600 hover:text-green-900 mr-3">Approve</button>
                                <button onclick="rejectLeaveRequest(${request.id})" class="text-red-600 hover:text-red-900">Reject</button>
                            </td>
                        `;
                        
                        pendingRequestsTable.appendChild(row);
                    }
                }
            });
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }
        
        function showEditModal(name, annualLeaves, sickLeaves, casualLeaves) {
            document.getElementById('edit-employee-name').textContent = name;
            document.getElementById('edit-annual-leaves').value = annualLeaves;
            document.getElementById('edit-sick-leaves').value = sickLeaves;
            document.getElementById('edit-casual-leaves').value = casualLeaves;
            
            showModal('edit-employee-modal');
        }
        
        function saveEmployeeLeave() {
            const name = document.getElementById('edit-employee-name').textContent;
            const annualLeaves = parseInt(document.getElementById('edit-annual-leaves').value);
            const sickLeaves = parseInt(document.getElementById('edit-sick-leaves').value);
            const casualLeaves = parseInt(document.getElementById('edit-casual-leaves').value);
            
            if (isNaN(annualLeaves) || isNaN(sickLeaves) || isNaN(casualLeaves)) {
                alert('Please enter valid numbers for leaves');
                return;
            }
            
            // Update in employees list
            const employeeIndex = employees.findIndex(e => e.name === name);
            if (employeeIndex !== -1) {
                employees[employeeIndex].leaves.annual = annualLeaves;
                employees[employeeIndex].leaves.sick = sickLeaves;
                employees[employeeIndex].leaves.casual = casualLeaves;
            }
            
            // Also update in users list
            const userIndex = users.findIndex(u => u.name === name);
            if (userIndex !== -1) {
                users[userIndex].leaves.annual = annualLeaves;
                users[userIndex].leaves.sick = sickLeaves;
                users[userIndex].leaves.casual = casualLeaves;
            }
            
            alert('Leave balances updated successfully');
            hideModal('edit-employee-modal');
            renderEmployeeTable();
            
            // If admin is viewing their own record, update their dashboard
            if (currentUser && currentUser.name === name) {
                updateLeaveBalances();
            }
        }
        
        function showAddEmployeeModal() {
            // Clear form fields
            document.getElementById('add-employee-name').value = '';
            document.getElementById('add-employee-email').value = '';
            document.getElementById('add-employee-role').value = 'employee';
            document.getElementById('add-employee-annual-leaves').value = 20;
            document.getElementById('add-employee-sick-leaves').value = 10;
            document.getElementById('add-employee-casual-leaves').value = 5;
            
            showModal('add-employee-modal');
        }
        
        function addEmployee() {
            const name = document.getElementById('add-employee-name').value;
            const email = document.getElementById('add-employee-email').value;
            const role = document.getElementById('add-employee-role').value;
            const annualLeaves = parseInt(document.getElementById('add-employee-annual-leaves').value);
            const sickLeaves = parseInt(document.getElementById('add-employee-sick-leaves').value);
            const casualLeaves = parseInt(document.getElementById('add-employee-casual-leaves').value);
            
            if (!name || !email) {
                alert('Please fill in all required fields');
                return;
            }
            
            if (isNaN(annualLeaves) || isNaN(sickLeaves) || isNaN(casualLeaves)) {
                alert('Please enter valid numbers for leaves');
                return;
            }
            
            // Add to employees list
            const newEmployee = {
                id: employees.length + 1,
                name,
                email,
                role,
                leaves: {
                    annual: annualLeaves,
                    sick: sickLeaves,
                    casual: casualLeaves
                }
            };
            
            employees.push(newEmployee);
            
            // Also add to users list with default password
            const newUser = {
                id: users.length + 1,
                name,
                email,
                password: 'password123',
                role,
                leaves: {
                    annual: annualLeaves,
                    annualUsed: 0,
                    sick: sickLeaves,
                    sickUsed: 0,
                    casual: casualLeaves,
                    casualUsed: 0
                }
            };
            
            users.push(newUser);
            
            alert('Employee added successfully');
            hideModal('add-employee-modal');
            renderEmployeeTable();
        }
        
        function deleteEmployee(id) {
            if (confirm('Are you sure you want to delete this employee?')) {
                const employeeIndex = employees.findIndex(e => e.id === id);
                
                if (employeeIndex !== -1) {
                    // Remove from employees list
                    employees.splice(employeeIndex, 1);
                    
                    // Also remove from users list
                    const userIndex = users.findIndex(u => u.id === id);
                    if (userIndex !== -1) {
                        users.splice(userIndex, 1);
                    }
                    
                    alert('Employee deleted successfully');
                    renderEmployeeTable();
                }
            }
        }
        
        function approveLeaveRequest(requestId) {
            const requestIndex = leaveRequests.findIndex(r => r.id === requestId);
            
            if (requestIndex !== -1) {
                leaveRequests[requestIndex].status = 'Approved';
                
                // Update employee's used leaves count
                const request = leaveRequests[requestIndex];
                const employeeId = request.employeeId;
                const employeeIndex = users.findIndex(u => u.id === employeeId);
                
                if (employeeIndex !== -1) {
                    if (request.type === 'Annual') {
                        users[employeeIndex].leaves.annualUsed += request.days;
                    } else if (request.type === 'Sick') {
                        users[employeeIndex].leaves.sickUsed += request.days;
                    } else if (request.type === 'Casual') {
                        users[employeeIndex].leaves.casualUsed += request.days;
                    }
                }
                
                alert('Leave request approved');
                renderPendingRequests();
            }
        }
        
        function rejectLeaveRequest(requestId) {
            const requestIndex = leaveRequests.findIndex(r => r.id === requestId);
            
            if (requestIndex !== -1) {
                leaveRequests[requestIndex].status = 'Rejected';
                alert('Leave request rejected');
                renderPendingRequests();
            }
        }
    </script>
</body>
</html>